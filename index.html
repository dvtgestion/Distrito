<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DISTRITO - Hamburguesas</title>

  <!-- CSP: permite Pexels / Wikimedia / RAW GitHub / ImgBB e data: -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self'
                        https://images.pexels.com
                        https://upload.wikimedia.org
                        https://raw.githubusercontent.com
                        https://i.ibb.co
                        data:;
                 script-src 'self' 'unsafe-inline';
                 style-src 'self' 'unsafe-inline';
                 connect-src 'self';
                 font-src 'self' data:;">

  <!-- Pr√©-conex√µes (ajuda na lat√™ncia) -->
  <link rel="preconnect" href="https://images.pexels.com" crossorigin>
  <link rel="preconnect" href="https://upload.wikimedia.org" crossorigin>
  <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin>
  <link rel="preconnect" href="https://i.ibb.co" crossorigin>

  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff8f0;
      color: #333;
    }
    header {
      background: #2c2c2c;
      color: #fff;
      text-align: center;
      padding: 25px 10px;
      font-size: 26px;
      font-weight: bold;
    }
    header span {
      font-size: 32px;
      color: #ffcc00;
    }
    .cart-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff6b00;
      color: white;
      padding: 12px 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .section-title {
      text-align: center;
      font-size: 22px;
      margin: 40px 0 20px;
      border-bottom: 2px solid #ff6b00;
      display: inline-block;
    }
    .container {
      padding: 10px 20px 50px;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .item {
      background: white;
      border-radius: 10px;
      width: 280px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.2s;
      position: relative;
    }
    .item:hover { transform: scale(1.02); }
    .item img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
    }
    .item-content { padding: 15px; }
    .item-content h3 { margin-top: 0; font-size: 18px; }
    .item-content p { margin: 6px 0; font-size: 14px; }
    .item button {
      background: linear-gradient(to right, #ff6b00, #ff9500);
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      width: 100%;
      cursor: pointer;
      font-weight: bold;
    }

    /* ===== Estado: Agotado ===== */
    .item.soldout img { filter: grayscale(0.6) brightness(0.85); }
    .item.soldout::after {
      content: "Agotado";
      position: absolute;
      top: 12px;
      left: -40px;
      background: #c0392b;
      color: #fff;
      transform: rotate(-45deg);
      padding: 6px 46px;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      letter-spacing: 0.3px;
    }
    .item.soldout button {
      opacity: .55;
      pointer-events: none;
    }

    .cart-sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 350px;
      height: 100%;
      background-color: white;
      box-shadow: -3px 0 10px rgba(0, 0, 0, 0.2);
      padding: 20px;
      transition: transform 0.3s ease;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      transform: translateX(100%); /* fechado: fora da tela */
      will-change: transform;
    }
    .cart-sidebar.open { transform: translateX(0); } /* aberto */
    .cart-sidebar h2 { margin-top: 0; font-size: 20px; }

    /* ===== Carrinho: alinhamento profissional ===== */
    .cart-item {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
    }
    .cart-item span:first-of-type {
      flex: 1;
      padding-right: 8px;
      overflow-wrap: anywhere;
    }
    .cart-item span:nth-of-type(2) {
      width: 120px;
      text-align: right;
      font-variant-numeric: tabular-nums;
      white-space: nowrap;
    }
    .cart-item button {
      background: none;
      border: none;
      color: red;
      font-size: 16px;
      cursor: pointer;
    }
    .cart-total {
      margin-top: 10px;
      font-weight: bold;
      border-top: 1px solid #ddd;
      padding-top: 10px;
      text-align: right;
      font-variant-numeric: tabular-nums;
    }

    /* ===== A√ß√µes do carrinho: centralizado e com espa√ßamento ===== */
    .cart-actions {
      margin-top: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 14px;
    }
    .btn-clear { background: #ff4d4d; color: white; }
    .btn-order { background: #25d366; color: white; }
    .btn-clear, .btn-order {
      font-size: 16px;
      font-weight: bold;
      padding: 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      max-width: 260px;
      margin: 0 auto;
    }

    .close-btn {
      background: transparent;
      border: none;
      font-size: 20px;
      cursor: pointer;
      align-self: flex-end;
    }
    input[type="text"], select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .option-label {
      margin-top: 12px;
      font-weight: bold;
      display: block;
    }
    @media (max-width: 600px) {
      .item { width: 100%; }
      .cart-sidebar { width: 100%; }
      .cart-btn { top: 10px; right: 10px; padding: 10px; }
      .cart-item span:nth-of-type(2) { width: 100px; }
    }

    /* ===== Overlay do Distritinhos ===== */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1001; /* acima do carrinho (1000) */
      padding: 16px;
    }
    .modal {
      background: #fff;
      width: 100%;
      max-width: 420px;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      padding: 16px;
      max-height: 80vh;
      overflow: auto;
    }
    .modal h3 {
      margin: 0 0 10px;
      font-size: 18px;
    }
    .choices {
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
      margin: 10px 0 6px;
    }
    .choices .row {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 8px;
      align-items: center;
    }
    .qty { display: flex; align-items: center; gap: 8px; }
    .btn-qty {
      border: 1px solid #ddd;
      background: #f7f7f7;
      border-radius: 6px;
      padding: 4px 10px;
      font-size: 16px;
      cursor: pointer;
    }
    .qty span {
      min-width: 20px;
      text-align: center;
      display: inline-block;
    }
    .modal .actions {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }
    .modal .actions button {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-cancel { background: #eee; }
    .btn-confirm { background: #ff6b00; color: #fff; }
    .btn-confirm[disabled] { opacity: .6; cursor: not-allowed; }
    .modal .hint {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }
  </style>
</head>
<body>

<header><span>üçî</span> DISTRITO - Hamburguesas Gourmet</header>
<button class="cart-btn" onclick="toggleCart()">üõí Ver carrito (<span id="contador">0</span>)</button>

<h2 class="section-title">üçî Hamburguesas</h2>
<div class="container">
  <!-- Candango -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1639562/pexels-photo-1639562.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Candango"
      referrerpolicy="no-referrer" decoding="async" loading="eager"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Candango</h3>
      <p>Pan de papa, carne (160g), lechuga, tomate, cebolla morada, pepinillos, queso cheddar, salsa de la casa</p>
      <p><strong>Bs 40.00</strong></p>
      <button onclick="agregarAlCarrito('Candango', 40)">Agregar</button>
    </div>
  </div>

  <!-- Plano Piloto -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1639556/pexels-photo-1639556.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Plano Piloto"
      referrerpolicy="no-referrer" decoding="async" loading="eager"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Plano Piloto</h3>
      <p>Pan de papa, doble carne (100gr), cebolla caramelizada, queso cheddar, tocino ahumado.</p>
      <p><strong>Bs 45.00</strong></p>
      <button onclick="agregarAlCarrito('Plano Piloto', 45)">Agregar</button>
    </div>
  </div>

  <!-- Catedral (pollo empanizado + coleslaw) -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/8382493/pexels-photo-8382493.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Catedral"
      referrerpolicy="no-referrer" decoding="async" loading="eager"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Catedral</h3>
      <p>Pan de papa, salsa de la casa, ensalada coleslaw, pechuga de pollo empanizada.</p>
      <p><strong>Bs 35.00</strong></p>
      <button onclick="agregarAlCarrito('Catedral', 35)">Agregar</button>
    </div>
  </div>

  <!-- Man√© (pollo) -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1633553/pexels-photo-1633553.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Man√©"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Man√©</h3>
      <p>Pan de papa, salsa de la casa, tomate, lechuga crespa, hamburguesa de pollo.</p>
      <p><strong>Bs 33.00</strong></p>
      <button onclick="agregarAlCarrito('Man√©', 33)">Agregar</button>
    </div>
  </div>

  <!-- Distrito (foto pr√≥pria RAW do GitHub) -->
  <div class="item">
    <img
      src="https://raw.githubusercontent.com/dvtgestion/Fotosdistrito/main/4A370153-7FE3-4E8A-8BBD-46ABAAF7A391.png"
      alt="Hamburguesa Distrito"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Distrito</h3>
      <p>Pan de papa, salsa de la casa, carne (160 gr), cebolla crispy, pi√±a caramelizada, doble tocino ahumado.</p>
      <p><strong>Bs 40.00</strong></p>
      <button onclick="agregarAlCarrito('Distrito', 40)">Agregar</button>
    </div>
  </div>

  <!-- Ceilandia -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1633578/pexels-photo-1633578.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Ceilandia"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Ceilandia</h3>
      <p>Pan de papa, carne de hamburguesa (160gr), ensalada coleslaw, queso cheddar, salsa barbacoa especial.</p>
      <p><strong>Bs 38.00</strong></p>
      <button onclick="agregarAlCarrito('Ceilandia', 38)">Agregar</button>
    </div>
  </div>

  <!-- Paranoa -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1639567/pexels-photo-1639567.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Paranoa"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Paranoa</h3>
      <p>Pan de papa, carne (160gr), aros de cebolla frita, queso cheddar, tocino ahumado, salsa barbacoa especial.</p>
      <p><strong>Bs 40.00</strong></p>
      <button onclick="agregarAlCarrito('Paranoa', 40)">Agregar</button>
    </div>
  </div>

  <!-- Pont√£o -->
  <div class="item">
    <img
      src="https://images.pexels.com/photos/1639557/pexels-photo-1639557.jpeg?auto=compress&cs=tinysrgb&w=1200&h=675&fit=crop"
      alt="Hamburguesa Pont√£o"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Pont√£o</h3>
      <p>Pan de papa, carne (160 gr), queso cheddar, jamon, calabresa especial, cebolla, lechuga crespa, tomate, cebolla crisppy.</p>
      <p><strong>Bs 30.00</strong></p>
      <button onclick="agregarAlCarrito('Pont√£o', 30)">Agregar</button>
    </div>
  </div>

  <!-- ===== Distritinhos (sliders, ImgBB Direct link) ===== -->
  <div class="item">
    <img
      src="https://i.ibb.co/Qvjkt2d3/269-F9290-45-B7-47-C3-9084-112-B0-B0765-F6.png"
      alt="Distritinhos"
      referrerpolicy="no-referrer" decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Distritinhos</h3>
      <p>3 mini hamburguesas de diferentes sabores a su elecci√≥n con papas fritas</p>
      <p><strong>Bs 60.00</strong></p>
      <button onclick="abrirDistritinhos()">Agregar</button>
    </div>
  </div>
</div>

<h2 class="section-title">üçü Acompa√±amientos</h2>
<div class="container">
  <!-- Combo upgrade: fritas + soda (TROCADO para ImgBB direct link) -->
  <div class="item">
    <img
      src="https://i.ibb.co/Q33MkXBC/9-BB5-D27-E-B729-4635-B3-A8-82-A0-B3-DA5934.png"
      alt="Combo Papas cl√°sicas + soda"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Transforma tu hamburguesa en combo</h3>
      <p>Papas cl√°sicas + soda</p>
      <p><strong>Bs 16.00</strong></p>
      <button onclick="agregarAlCarrito('Combo: Papas cl√°sicas + soda', 16)">Agregar</button>
    </div>
  </div>

  <!-- Papas Fritas -->
  <div class="item">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/e/e4/French_fries_20180827.jpg"
      alt="Papas Fritas"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Papas Fritas</h3>
      <p>Crocantes y doradas, porci√≥n individual</p>
      <p><strong>Bs 10.00</strong></p>
      <button onclick="agregarAlCarrito('Papas Fritas', 10)">Agregar</button>
    </div>
  </div>
</div>

<h2 class="section-title">ü•§ Bebidas</h2>
<div class="container">
  <!-- Coca-Cola 500ml -->
  <div class="item">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/b/b2/Cocacola_bottle.jpg"
      alt="Coca-Cola 500ml"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Coca-Cola 500ml</h3>
      <p>Refresco tradicional para acompa√±ar tu combo</p>
      <p><strong>Bs 8.00</strong></p>
      <button onclick="agregarAlCarrito('Coca-Cola 500ml', 8)">Agregar</button>
    </div>
  </div>

  <!-- Jugo de la estaci√≥n -->
  <div class="item">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Orangejuice.jpg/960px-Orangejuice.jpg"
      alt="Jugo de la estaci√≥n"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Jugo de la estaci√≥n</h3>
      <p>Fresco del d√≠a</p>
      <p><strong>Bs 10.00</strong></p>
      <button onclick="agregarAlCarrito('Jugo de la estaci√≥n', 10)">Agregar</button>
    </div>
  </div>

  <!-- Agua -->
  <div class="item">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/4/4b/Plastic_Water_Bottle.jpg"
      alt="Agua"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Agua</h3>
      <p>Botella individual</p>
      <p><strong>Bs 8.00</strong></p>
      <button onclick="agregarAlCarrito('Agua', 8)">Agregar</button>
    </div>
  </div>

  <!-- Agua con gas -->
  <div class="item">
    <img
      src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/San_Pellegrino_Bottle.jpg/960px-San_Pellegrino_Bottle.jpg"
      alt="Agua con gas"
      decoding="async" loading="lazy"
      onerror="this.onerror=null;this.src='data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%221200%22 height=%22675%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23eee%22/><text x=%2250%25%22 y=%2250%25%22 font-family=%22Segoe%20UI%22 font-size=%2230%22 fill=%22%23999%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22>Imagen%20no%20disponible</text></svg>';"
    />
    <div class="item-content">
      <h3>Agua con gas</h3>
      <p>Botella individual</p>
      <p><strong>Bs 8.00</strong></p>
      <button onclick="agregarAlCarrito('Agua con gas', 8)">Agregar</button>
    </div>
  </div>
</div>

<!-- Carrinho -->
<div class="cart-sidebar" id="cartSidebar">
  <button class="close-btn" onclick="toggleCart()">‚úñ</button>
  <h2>üõí Tu carrito</h2>
  <div id="carrito" class="cart-items"><p>No hay productos a√∫n.</p></div>
  <div class="cart-total" id="carrito-total"></div>

  <label class="option-label">Entrega:</label>
  <label><input type="radio" name="entrega" value="domicilio" checked onchange="toggleDireccion(true)"> A domicilio</label>
  <label><input type="radio" name="entrega" value="retiro" onchange="toggleDireccion(false)"> Retiro en local</label>

  <div id="direccion-container">
    <label class="option-label">Direcci√≥n:</label>
    <input type="text" id="direccion">
  </div>

  <label class="option-label">M√©todo de pago:</label>
  <select id="pago">
    <option value="efectivo">Efectivo</option>
    <option value="QR">QR</option>
  </select>

  <label class="option-label">Nota:</label>
  <textarea id="nota"></textarea>

  <label class="option-label">Cup√≥n de descuento:</label>
  <input type="text" id="cupon">

  <div class="cart-actions">
    <button class="btn-clear" onclick="vaciarCarrito()">üóë Vaciar carrito</button>
    <button class="btn-order" onclick="enviarPedido()">üì§ Enviar pedido</button>
  </div>
</div>

<!-- ===== Overlay Distritinhos ===== -->
<div class="modal-overlay" id="distritinhosOverlay" role="dialog" aria-modal="true" aria-labelledby="distritinhosTitle">
  <div class="modal">
    <h3 id="distritinhosTitle">Elige 3 mini hamburguesas (pueden repetirse)</h3>
    <div class="hint" id="distritinhosHint">Te faltan 3 selecciones (total 3).</div>
    <div class="choices" id="distritinhosList"></div>
    <div class="actions">
      <button class="btn-cancel" type="button" onclick="fecharDistritinhos()">Cancelar</button>
      <button class="btn-confirm" id="distritinhosConfirm" type="button" onclick="confirmarDistritinhos()" disabled>Confirmar</button>
    </div>
  </div>
</div>

<script>
  let carrito = [];

  function toggleCart() {
    document.getElementById("cartSidebar").classList.toggle("open");
  }

  function agregarAlCarrito(nombre, precio) {
    carrito.push({ nombre, precio });
    actualizarCarrito();
    document.getElementById("cartSidebar").classList.add("open");
  }

  function actualizarCarrito() {
    const contenedor = document.getElementById("carrito");
    const totalDiv = document.getElementById("carrito-total");
    const contador = document.getElementById("contador");
    contenedor.innerHTML = "";
    let total = 0;

    if (carrito.length === 0) {
      contenedor.innerHTML = "<p>No hay productos a√∫n.</p>";
      totalDiv.innerHTML = "";
    } else {
      carrito.forEach((item, index) => {
        total += item.precio;
        contenedor.innerHTML += `
          <div class="cart-item">
            <span>${item.nombre}</span>
            <span>Bs ${item.precio.toFixed(2)}</span>
            <button onclick="removerItem(${index})">üóë</button>
          </div>`;
      });

      const cupon = document.getElementById("cupon").value.trim().toUpperCase();
      const descuento = cupon === "DESCUENTO10" ? total * 0.10 : 0;
      totalDiv.innerHTML = `Total: Bs ${(total - descuento).toFixed(2)} ${descuento ? "(con descuento aplicado)" : ""}`;
    }

    contador.textContent = carrito.length;
  }

  function removerItem(i) {
    carrito.splice(i, 1);
    actualizarCarrito();
  }

  function vaciarCarrito() {
    carrito = [];
    /* linha com nome errado removida */
    actualizarCarrito();
  }

  function toggleDireccion(show) {
    document.getElementById("direccion-container").style.display = show ? "block" : "none";
  }

  function enviarPedido() {
    if (carrito.length === 0) return alert("El carrito est√° vac√≠o.");

    const entrega = document.querySelector('input[name="entrega"]:checked').value;
    const direccion = document.getElementById("direccion").value.trim();
    const metodo = document.getElementById("pago").value;
    const nota = document.getElementById("nota").value.trim();
    const cupon = document.getElementById("cupon").value.trim().toUpperCase();

    let mensaje = "¬°Hola! Quiero hacer un pedido en DISTRITO:%0A";
    let total = 0;

    carrito.forEach(item => {
      mensaje += `- ${item.nombre}: Bs ${item.precio.toFixed(2)}%0A`;
      total += item.precio;
    });

    const descuento = cupon === "DESCUENTO10" ? total * 0.10 : 0;
    mensaje += `%0ATotal: Bs ${(total - descuento).toFixed(2)}`;
    if (cupon) mensagem = mensaje; /* compat */
    mensaje += `%0AEntrega: ${entrega}`;
    if (entrega === "domicilio" && direccion) mensaje += `%0ADirecci√≥n: ${direccion}`;
    mensaje += `%0APago: ${metodo}`;
    if (nota) mensaje += `%0ANota: ${nota}`;

    const tel = "59171234567"; // Altere para n√∫mero real
    window.open(`https://wa.me/${tel}?text=${mensaje}`, '_blank');
  }

  window.onload = () => {
    toggleDireccion(true);
    aplicarAgotados(); // aplica estado "Agotado" inicial (se houver)
  };

  /* ====== L√≥gica do Distritinhos (‚àí / + com total 3) ====== */
  let distritinhosSabores = [];
  let distritinhosCounts = [];
  let distritinhosTotal = 0;

  function abrirDistritinhos() {
    // Coleta todos os nomes da primeira se√ß√£o de hamburguesas
    const hamburguesContainer = document.querySelectorAll('.container')[0];
    const nomes = Array.from(hamburguesContainer.querySelectorAll('.item .item-content h3'))
      .map(el => el.textContent.trim())
      .filter(name => name.toLowerCase() !== 'distritinhos'); // n√£o listar o pr√≥prio distritinhos

    distritinhosSabores = nomes;
    distritinhosCounts = new Array(nomes.length).fill(0);
    distritinhosTotal = 0;

    const list = document.getElementById('distritinhosList');
    list.innerHTML = '';

    nomes.forEach((nome, idx) => {
      const row = document.createElement('div');
      row.className = 'row';
      const label = document.createElement('div');
      label.textContent = nome;

      const qty = document.createElement('div');
      qty.className = 'qty';
      qty.innerHTML = `
        <button type="button" class="btn-qty" onclick="dQtyMinus(${idx})">‚àí</button>
        <span id="dqty-${idx}">0</span>
        <button type="button" class="btn-qty" onclick="dQtyPlus(${idx})">+</button>
      `;

      row.appendChild(label);
      row.appendChild(qty);
      list.appendChild(row);
    });

    dUpdateUI();
    document.getElementById('distritinhosOverlay').style.display = 'flex';
  }

  function fecharDistritinhos() {
    document.getElementById('distritinhosOverlay').style.display = 'none';
  }

  function dQtyPlus(i) {
    if (distritinhosTotal >= 3) return;
    distritinhosCounts[i]++;
    distritinhosTotal++;
    dUpdateUI();
  }

  function dQtyMinus(i) {
    if (distritinhosCounts[i] <= 0) return;
    distritinhosCounts[i]--;
    distritinhosTotal--;
    dUpdateUI();
  }

  function dUpdateUI() {
    for (let i = 0; i < distritinhosCounts.length; i++) {
      const span = document.getElementById('dqty-' + i);
      if (span) span.textContent = distritinhosCounts[i];
    }
    const restantes = 3 - distritinhosTotal;
    const hint = document.getElementById('distritinhosHint');
    hint.textContent = restantes > 0
      ? `Te faltan ${restantes} selecciones (total 3).`
      : `Listo: seleccionaste 3.`;

    const btn = document.getElementById('distritinhosConfirm');
    btn.disabled = (distritinhosTotal !== 3);
  }

  function confirmarDistritinhos() {
    if (distritinhosTotal !== 3) {
      alert('Selecciona exactamente 3.');
      return;
    }

    const partes = [];
    for (let i = 0; i < distritinhosCounts.length; i++) {
      const n = distritinhosCounts[i];
      if (n > 0) partes.push(`${distritinhosSabores[i]} √ó${n}`);
    }

    const nome = 'Distritinhos (' + partes.join(', ') + ')';
    const preco = 60;
    carrito.push({ nombre: nome, precio: preco });
    actualizarCarrito();
    fecharDistritinhos();
    document.getElementById("cartSidebar").classList.add("open");
  }

  // ====== Estoque / Agotado (facilitar marcar item em falta) ======
  const AGOTADOS = new Set([
    // Exemplo: 'Ceilandia', 'Agua con gas'
  ]);

  function setAgotado(nombre, isSoldOut) {
    const cards = document.querySelectorAll('.container .item');
    for (const card of cards) {
      const h3 = card.querySelector('.item-content h3');
      if (!h3) continue;
      if (h3.textContent.trim().toLowerCase() === nombre.trim().toLowerCase()) {
        if (isSoldOut) card.classList.add('soldout');
        else card.classList.remove('soldout');
      }
    }
  }

  function aplicarAgotados() {
    AGOTADOS.forEach(n => setAgotado(n, true));
  }

  // Mantido (n√£o usado agora, deixo para compatibilidade caso queira voltar a checkboxes)
  function limitarSelecao(max, cb) {
    const overlay = document.getElementById('distritinhosOverlay');
    const marcados = overlay.querySelectorAll('input[type="checkbox"]:checked');
    if (marcados.length > max) {
      cb.checked = false;
      alert(`Selecione no m√°ximo ${max} sabores.`);
    }
  }
</script>
</body>
</html>